"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[8018],{7470:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Jetpack Compose - mobilne w czystym Kotlinie/Podstawowe komponenty/PodzialAplikacji","title":"Wydzielanie mniejszych Composable","description":"Dlaczego podzia\u0142 aplikacji jest wa\u017cny?","source":"@site/docs/100. Jetpack Compose - mobilne w czystym Kotlinie/10.Podstawowe komponenty/44.PodzialAplikacji.mdx","sourceDirName":"100. Jetpack Compose - mobilne w czystym Kotlinie/10.Podstawowe komponenty","slug":"/Jetpack Compose - mobilne w czystym Kotlinie/Podstawowe komponenty/PodzialAplikacji","permalink":"/mobile/docs/Jetpack Compose - mobilne w czystym Kotlinie/Podstawowe komponenty/PodzialAplikacji","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/100. Jetpack Compose - mobilne w czystym Kotlinie/10.Podstawowe komponenty/44.PodzialAplikacji.mdx","tags":[],"version":"current","sidebarPosition":44,"frontMatter":{"title":"Wydzielanie mniejszych Composable"},"sidebar":"tutorialSidebar","previous":{"title":"Przesy\u0142anie danych mi\u0119dzy `Composable`ami","permalink":"/mobile/docs/Jetpack Compose - mobilne w czystym Kotlinie/Podstawowe komponenty/PrzesylanieDanych"},"next":{"title":"SnackBar, Dialog, AlertDialog","permalink":"/mobile/docs/Jetpack Compose - mobilne w czystym Kotlinie/Podstawowe komponenty/SnackBarDialogAlertDialog"}}');var t=i(4848),s=i(8453);const a={title:"Wydzielanie mniejszych Composable"},l="Wydzielanie mniejszych Composable",c={},d=[{value:"Dlaczego podzia\u0142 aplikacji jest wa\u017cny?",id:"dlaczego-podzia\u0142-aplikacji-jest-wa\u017cny",level:2},{value:"Jaka b\u0119dzie struktura naszej aplikacji?",id:"jaka-b\u0119dzie-struktura-naszej-aplikacji",level:2},{value:"<em>State Hoisting</em>*",id:"state-hoisting",level:2},{value:"Definiujemy komponent <code>InterestsSection.kt</code>",id:"definiujemy-komponent-interestssectionkt",level:2}];function r(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"wydzielanie-mniejszych-composable",children:"Wydzielanie mniejszych Composable"})}),"\n",(0,t.jsx)(n.h2,{id:"dlaczego-podzia\u0142-aplikacji-jest-wa\u017cny",children:"Dlaczego podzia\u0142 aplikacji jest wa\u017cny?"}),"\n",(0,t.jsx)(n.p,{children:"Aplikacja z poprzedniej lekcji ma jedn\u0105 podstawow\u0105 wad\u0119.\nWszystko napisali\u015bmy w jednym pliku."}),"\n",(0,t.jsx)(n.p,{children:"Dobrze napisana aplikacja powinna by\u0107 podzielona na niewielkie komponenty."}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:[(0,t.jsx)(n.em,{children:"Separation of Concerns"})," (",(0,t.jsx)(n.em,{children:"SoC"}),")"]}),(0,t.jsx)(n.p,{children:"To og\xf3lna zasada in\u017cynierii oprogramowania:"}),(0,t.jsx)(n.p,{children:"Ka\u017cda cz\u0119\u015b\u0107 powinna zajmowa\u0107 si\u0119 jedn\u0105 konkretn\u0105 odpowiedzialno\u015bci\u0105."}),(0,t.jsxs)(n.p,{children:["(W dokumentach Google to ",(0,t.jsx)(n.em,{children:"Break down UI into small composables"}),")"]})]}),"\n",(0,t.jsx)(n.p,{children:"W naszym przypadku:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["osobny ",(0,t.jsx)(n.code,{children:"composable"})," dla sekcji powiadomie\u0144"]}),"\n",(0,t.jsxs)(n.li,{children:["osobny dla ",(0,t.jsx)(n.code,{children:"checkbox"}),"\xf3w"]}),"\n",(0,t.jsxs)(n.li,{children:["osobny dla ",(0,t.jsx)(n.code,{children:"radiobutton"}),"\xf3w"]}),"\n",(0,t.jsx)(n.li,{children:"osobny dla podsumowania"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"jaka-b\u0119dzie-struktura-naszej-aplikacji",children:"Jaka b\u0119dzie struktura naszej aplikacji?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["stw\xf3rz folder/",(0,t.jsx)(n.em,{children:"package"})," ",(0,t.jsx)(n.code,{children:"components"})]}),"\n",(0,t.jsxs)(n.li,{children:["wewn\u0105trz niego pliki:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NotificationsSection.kt"}),","]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"InterestsSection.kt"}),","]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ThemeSection.kt"}),","]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"SummarySection.kt"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ui/\n \u251c\u2500 SettingsScreen.kt\n \u251c\u2500 components/\n \u2502    \u251c\u2500 NotificationsSection.kt\n \u2502    \u251c\u2500 InterestsSection.kt\n \u2502    \u251c\u2500 ThemeSection.kt\n \u2502    \u2514\u2500 SummarySection.kt\n\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"state-hoisting",children:[(0,t.jsx)(n.em,{children:"State Hoisting"}),"*"]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:["Co to jest ",(0,t.jsx)(n.em,{children:"State Hoisting"}),"?"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"to zasada wynoszenia stanu (zmiennych, danych)"}),"\n",(0,t.jsxs)(n.li,{children:["z ni\u017cszych ",(0,t.jsx)(n.code,{children:"Composable"})," do wy\u017cszego poziomu,"]}),"\n",(0,t.jsxs)(n.li,{children:["tak aby ma\u0142e composable by\u0142y ",(0,t.jsx)(n.em,{children:"stateless"})," (bez w\u0142asnej logiki)."]}),"\n"]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"State Hoisting"})," = ",(0,t.jsx)(n.strong,{children:"podnoszenie stanu w g\xf3r\u0119 hierarchii komponent\xf3w"})]}),(0,t.jsx)(n.p,{children:"Inaczej m\xf3wi\u0105c:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Ma\u0142y ",(0,t.jsx)(n.code,{children:"composable"})," nie powinien sam przechowywa\u0107 stanu."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Stan powinien by\u0107 trzymany wy\u017cej, a ",(0,t.jsx)(n.code,{children:"composable"})," powinien go tylko wy\u015bwietla\u0107."]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(n.h1,{id:"definiujemy-komponent-notificationssectionkt",children:["Definiujemy komponent ",(0,t.jsx)(n.code,{children:"NotificationsSection.kt"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'@Composable\nfun NotificationsSection(\n    enable: Boolean,\n    onToggle: (Boolean)-> Unit\n){\n    Row(modifier=Modifier\n        .fillMaxWidth()\n        .padding(horizontal = 20.dp),\n        verticalAlignment = Alignment.CenterVertically,\n        horizontalArrangement = Arrangement.End\n\n    ) {\n        Text("Powiadomienia")\n        Spacer(modifier=Modifier.width(12.dp))\n        Switch(\n            modifier = Modifier.padding(20.dp),\n            checked = enable,\n            onCheckedChange = onToggle\n        )\n    }\n}\n\n@Preview(showBackground = true)\n@Composable\nfun NotificationsSectionPreview(){\n    var enable by remember { mutableStateOf(false) }\n    NotificationsSection(enable, {enable = it})\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"W g\u0142\xf3wnym pliku u\u017cywamy tej ma\u0142ej, bezstanowej funkcji composable:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"// ... w miejscu, w kt\xf3rym poprzednio by\u0142o wszystko ze Switchem\n\n        NotificationsSection(notificationsEnabled, { notificationsEnabled = it } )\n\n//\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"definiujemy-komponent-interestssectionkt",children:["Definiujemy komponent ",(0,t.jsx)(n.code,{children:"InterestsSection.kt"})]}),"\n",(0,t.jsx)(n.p,{children:"Tu b\u0119dzie sporo zmian."}),"\n",(0,t.jsx)(n.admonition,{title:"PAMI\u0118TAJ",type:"danger",children:(0,t.jsx)(n.p,{children:'Pami\u0119taj o koniecznych importach "alt+enter" po najechaniu kursorem na brakuj\u0105ce importy.'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'\n@Composable\nfun InterestsSection(\n    interestList: List<Interest>,\n    onInterestChange: (Interest)-> Unit\n){\n    Column() {\n        Text(text="Zainteresowania",\n            fontSize = 20.sp,\n            modifier = Modifier.padding(\n                top=24.dp,\n                bottom = 10.dp,\n            )\n        )\n\n        interestList.forEach { interest ->\n            Row(verticalAlignment = Alignment.CenterVertically){\n                Checkbox(\n                    checked = interest.checked,\n                    onCheckedChange = { isChecked ->\n                        val updatedInterest = interest.copy(checked = isChecked)\n                        onInterestChange(updatedInterest)\n                    }\n                )\n                Text(text=interest.name)\n            }\n        }\n    }\n}\n'})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var o=i(6540);const t={},s=o.createContext(t);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);