"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[7559],{8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>s});var a=i(6540);const o={},l=a.createContext(o);function r(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(l.Provider,{value:n},e.children)}},9908:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>j,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Jetpack Compose/Nawigacja/AplikacjaZDwomaEkranami","title":"Prosta aplikacja z nawigacj\u0105","description":"Za\u0142o\u017cenia aplikacji","source":"@site/docs/100. Jetpack Compose/40.Nawigacja/10.AplikacjaZDwomaEkranami.mdx","sourceDirName":"100. Jetpack Compose/40.Nawigacja","slug":"/Jetpack Compose/Nawigacja/AplikacjaZDwomaEkranami","permalink":"/mobile/docs/Jetpack Compose/Nawigacja/AplikacjaZDwomaEkranami","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/100. Jetpack Compose/40.Nawigacja/10.AplikacjaZDwomaEkranami.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Prosta aplikacja z nawigacj\u0105"},"sidebar":"tutorialSidebar","previous":{"title":"Wprowadzenie","permalink":"/mobile/docs/Jetpack Compose/Nawigacja/Wprowadzenie"},"next":{"title":"Przkazywanie danych mi\u0119dzy komponentami","permalink":"/mobile/docs/Jetpack Compose/Nawigacja/Przekazywanie Danych"}}');var o=i(4848),l=i(8453);const r={title:"Prosta aplikacja z nawigacj\u0105"},s="Prosta aplikacja z nawigacj\u0105",c={},d=[{value:"Za\u0142o\u017cenia aplikacji",id:"za\u0142o\u017cenia-aplikacji",level:2},{value:"Jakich bibliotek potrzebujemy?",id:"jakich-bibliotek-potrzebujemy",level:2},{value:"Dodajemy w pliku <code>libs.versions.toml</code>",id:"dodajemy-w-pliku-libsversionstoml",level:3},{value:"Teraz zmieniamy w pliku <code>build.gradle.kts</code>",id:"teraz-zmieniamy-w-pliku-buildgradlekts",level:3},{value:"Aplikacja z ekranami <code>Home</code> i <code>Details</code>",id:"aplikacja-z-ekranami-home-i-details",level:2},{value:"Przygotowanie",id:"przygotowanie",level:3},{value:"Definiujemy komponent nawigacji",id:"definiujemy-komponent-nawigacji",level:3},{value:"Dodajemy ekrany <code>Home</code> i <code>Details</code>",id:"dodajemy-ekrany-home-i-details",level:3},{value:"<code>HomeScreen</code>",id:"homescreen",level:4},{value:"<code>DetailsScreen</code>",id:"detailsscreen",level:4},{value:"Wersja uproszczona - niedu\u017ce aplikacje",id:"wersja-uproszczona---niedu\u017ce-aplikacje",level:3},{value:"Wersja rozbudowana - du\u017ce aplikacje",id:"wersja-rozbudowana---du\u017ce-aplikacje",level:3}];function t(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"prosta-aplikacja-z-nawigacj\u0105",children:"Prosta aplikacja z nawigacj\u0105"})}),"\n",(0,o.jsx)(n.h2,{id:"za\u0142o\u017cenia-aplikacji",children:"Za\u0142o\u017cenia aplikacji"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"b\u0119dziemy mieli komponent odpowiedzialny za nawigacj\u0119"}),"\n",(0,o.jsxs)(n.li,{children:["b\u0119dziemy mieli dwa komponenty ",(0,o.jsx)(n.code,{children:"Home"})," oraz ",(0,o.jsx)(n.code,{children:"Details"})]}),"\n",(0,o.jsxs)(n.li,{children:["b\u0119dziemy mogli przej\u015b\u0107 z ",(0,o.jsx)(n.code,{children:"Home"})," do ",(0,o.jsx)(n.code,{children:"Details"})," oraz z ",(0,o.jsx)(n.code,{children:"Details"})," do ",(0,o.jsx)(n.code,{children:"Home"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"jakich-bibliotek-potrzebujemy",children:"Jakich bibliotek potrzebujemy?"}),"\n",(0,o.jsxs)(n.h3,{id:"dodajemy-w-pliku-libsversionstoml",children:["Dodajemy w pliku ",(0,o.jsx)(n.code,{children:"libs.versions.toml"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[version]\n//...\nnavigation = "2.9.5"\n\n[libraries]\n//...\nnavigation-compose = { module = "androidx.navigation:navigation-compose", version.ref = "navigation" }\n\n\n[plugins\n'})}),"\n",(0,o.jsx)(n.p,{children:"SYNCHRONIZUJ PROJEKT!!"}),"\n",(0,o.jsxs)(n.h3,{id:"teraz-zmieniamy-w-pliku-buildgradlekts",children:["Teraz zmieniamy w pliku ",(0,o.jsx)(n.code,{children:"build.gradle.kts"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:"//...\ndependencies {\n    //...\n    implementation(libs.navigation.compose)\n}\n//...\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"SYNCHRONIZUJ PROJEKT!!"}),"\n",(0,o.jsxs)(n.h2,{id:"aplikacja-z-ekranami-home-i-details",children:["Aplikacja z ekranami ",(0,o.jsx)(n.code,{children:"Home"})," i ",(0,o.jsx)(n.code,{children:"Details"})]}),"\n",(0,o.jsx)(n.h3,{id:"przygotowanie",children:"Przygotowanie"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"nowy projekt,"}),"\n",(0,o.jsxs)(n.li,{children:["doinstalujmy bibliotek\u0119 ",(0,o.jsx)(n.code,{children:"navigation-compose"})," (j/w),"]}),"\n",(0,o.jsxs)(n.li,{children:["w pliku ",(0,o.jsx)(n.code,{children:"MainActivity.kt"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["usu\u0144 istniej\u0105c\u0105 funkcj\u0119 ",(0,o.jsx)(n.code,{children:"Composable"})]}),"\n",(0,o.jsxs)(n.li,{children:["w metodzie ",(0,o.jsx)(n.code,{children:"onCreate"})," u\u017cyj komponentu ",(0,o.jsx)(n.code,{children:"AppNavigation"}),", kt\xf3rego jeszcze nie ma."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["w folderze, w kt\xf3rym jest ",(0,o.jsx)(n.code,{children:"MainActivity"})," utw\xf3rz nowy folder/",(0,o.jsx)(n.em,{children:"package"})," ",(0,o.jsx)(n.code,{children:"navigation"})]}),"\n",(0,o.jsxs)(n.li,{children:["w tym nowym folderze/",(0,o.jsx)(n.em,{children:"package"})," utw\xf3rz zwyk\u0142y plik ",(0,o.jsx)(n.code,{children:"AppNavigation.kt"})," z zawarto\u015bci\u0105:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotliin",children:'class MainActivity : ComponentActivity() {\n            //...\n\n            Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->\n                    AppNavigation(\n\n                        modifier = Modifier.padding(innerPadding)\n                    )\n                }\n            }\n        }\n    }\n}\n\n@Composable\nfun AppNavigation(modifier: Modifier = Modifier){\n    Text(text="hejka", modifier=modifier)\n}\n\n@Preview(showBackground = true)\n@Composable\nfun AppNavigationPreview() {\n    SpacerModifierJCTheme {\n        AppNavigation()\n    }\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["W emulatorze powinien wy\u015bwietli\u0107 si\u0119 napis ",(0,o.jsx)(n.code,{children:"hejka"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"definiujemy-komponent-nawigacji",children:"Definiujemy komponent nawigacji"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'fun AppNavigation(modifier: Modifier = Modifier){\n    val navController = rememberNavController()\n\n    NavHost(\n       navController =navController,\n       startDestination = "home"\n    ){\n        composable(route = "home"){ HomeScreen(navController) }\n        composable (route = "details" ){ DetailsScreen(navController) }\n\n    }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Wyja\u015bniania kork po kroczku:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"val navController = rememberNavController()"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Tworzy kontroler nawigacji i zapami\u0119tuje go w pami\u0119ci Composa,"}),"\n",(0,o.jsxs)(n.li,{children:["B\u0119dzie zarz\u0105dza\u0142 histori\u0105 ekran\xf3w (",(0,o.jsx)(n.code,{children:"stackiem"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"NavHost(...)"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"To centralny \u201ehost\u201d wszystkich ekran\xf3w."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"startDestination"})," okre\u015bla, kt\xf3ry ekran jest wy\u015bwietlany jako pierwszy."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"navController"})," m\xf3wi, kto steruje przej\u015bciami."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'composable(route = "home") { HomeScreen(navController) }'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Definiuje ekran o nazwie \u201ehome\u201d, kt\xf3ry wywo\u0142a funkcj\u0119 ",(0,o.jsx)(n.code,{children:"HomeScreen"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'composable(route = "details") { DetailsScreen(navController) }'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Drugi ekran, wywo\u0142ywany przez ",(0,o.jsx)(n.code,{children:'navigate("details")'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"dodajemy-ekrany-home-i-details",children:["Dodajemy ekrany ",(0,o.jsx)(n.code,{children:"Home"})," i ",(0,o.jsx)(n.code,{children:"Details"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["W folderze ",(0,o.jsx)(n.code,{children:"ui"})," zr\xf3b dwa dodatkowe podfoldery ",(0,o.jsx)(n.code,{children:"home"})," oraz ",(0,o.jsx)(n.code,{children:"details"})]}),"\n",(0,o.jsxs)(n.li,{children:["W \u015brodku tych folder\xf3w zr\xf3b odpowiednie pliki ",(0,o.jsx)(n.code,{children:"HomeScreen.kt"})," oraz ",(0,o.jsx)(n.code,{children:"DetailsScreen.kt"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\n \u251c\u2500\u2500 MainActivity.kt\n \u251c\u2500\u2500 navigation/\n \u2502    \u2514\u2500\u2500 AppNavigation.kt\n \u2514\u2500\u2500 ui/\n      \u251c\u2500\u2500 home/\n      \u2502    \u2514\u2500\u2500 HomeScreen.kt\n      \u251c\u2500\u2500 details/\n      \u2502    \u2514\u2500\u2500 DetailsScreen.kt\n      \u2514\u2500\u2500 theme/\n           \u251c\u2500\u2500\n           \u251c\u2500\u2500\n           \u251c\u2500\u2500\n           \u2514\u2500\u2500\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Po co foldery na pojedyncze pliki?",type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Folder np. ",(0,o.jsx)(n.code,{children:"ui/home"})," to jak pude\u0142ko na wszystkie elementy ekranu ",(0,o.jsx)(n.code,{children:"Home"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Na pocz\u0105tku jest tam tylko \u201einstrukcja\u201d (czyli ",(0,o.jsx)(n.code,{children:"HomeScreen.kt"}),"),"]}),"\n",(0,o.jsxs)(n.li,{children:["Z czasem b\u0119d\u0105 tam do\u0142o\u017cone:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"przyciski,"}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ViewModel"}),","]}),"\n",(0,o.jsx)(n.li,{children:"`podgl\u0105d"}),"\n",(0,o.jsx)(n.li,{children:"dane"}),"\n",(0,o.jsx)(n.li,{children:"...\ni dzi\u0119ki temu wszystko masz w jednym miejscu."}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,o.jsx)(n.h4,{id:"homescreen",children:(0,o.jsx)(n.code,{children:"HomeScreen"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'@Composable\nfun HomeScreen(navController: NavController) {\n    Column(\n        modifier = Modifier.fillMaxSize(),\n        horizontalAlignment = Alignment.CenterHorizontally,\n        verticalArrangement = Arrangement.Center\n\n        ){\n        Text("Home Screen")\n        Spacer(modifier = Modifier.height(20.dp))\n        Button(onClick = {navController.navigate("details")}){\n            Text("Go to Details")\n        }\n    }\n}\n\n@Preview(showBackground = true)\n@Composable\nfun HomeScreePreview(){\n    HomeScreen(rememberNavController())\n}\n'})}),"\n",(0,o.jsx)(n.h4,{id:"detailsscreen",children:(0,o.jsx)(n.code,{children:"DetailsScreen"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'@Composable\nfun DetailsScreen(navController: NavController){\n    Column(\n        modifier = Modifier.fillMaxSize(),\n        horizontalAlignment = Alignment.CenterHorizontally,\n        verticalArrangement = Arrangement.Center\n    ) {\n        Text("Details Screen")\n        Spacer(modifier = Modifier.height(20.dp))\n        Button(onClick = { navController.popBackStack()}) {\n            Text("Go Back")\n        }\n\n    }\n}\n\n@Preview(showBackground = true)\n@Composable\nfun DetailsScreenPreview(){\n    DetailsScreen(navController = rememberNavController())\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h1,{id:"na-koniec-obiekt-ze-\u015bcie\u017ckami",children:"Na koniec obiekt ze \u015bcie\u017ckami"}),"\n",(0,o.jsx)(n.h3,{id:"wersja-uproszczona---niedu\u017ce-aplikacje",children:"Wersja uproszczona - niedu\u017ce aplikacje"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["w folderze ",(0,o.jsx)(n.code,{children:"navigation"})," dodamy nowy plik ",(0,o.jsx)(n.code,{children:"Routes.kt"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'object Routes {\n    const val Home = "home"\n    const val Details = "details"\n}\n\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsxs)(n.mdxAdmonitionTitle,{children:["sta\u0142a kompilacyjna (",(0,o.jsx)(n.em,{children:"compile-time constant"}),") - ",(0,o.jsx)(n.code,{children:"const val"})]}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u201eWarto\u015b\u0107 jest sta\u0142a i znana w czasie kompilacji, nie zmieni si\u0119 nigdy\u201d"}),"\n",(0,o.jsx)(n.li,{children:"musi by\u0107 prymitywem lub Stringiem,"}),"\n",(0,o.jsx)(n.li,{children:"kompilator wstawia t\u0119 warto\u015b\u0107 \u201ena sztywno\u201d w kod bajtowy (jak #define w C),"}),"\n",(0,o.jsx)(n.li,{children:"nie wymaga dost\u0119pu do obiektu Routes w czasie uruchomienia."}),"\n"]})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["teraz w ",(0,o.jsx)(n.code,{children:"AppNavigation.kt"})," zmienimy spos\xf3b definiowania \u015bcie\u017cek"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:"//...\n     NavHost(\n            navController =navController,\n            startDestination = Routes.Home\n        ){\n            composable(route = Routes.Home){ HomeScreen(navController) }\n            composable (route = Routes.Details ){ DetailsScreen(navController) }\n//...\n"})}),"\n",(0,o.jsxs)(n.p,{children:["oraz w ",(0,o.jsx)(n.code,{children:"HomeScreen.kt"})," :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'    Button(onClick = {navController.navigate(Routes.Details)}){\n        Text("Go to Details")\n    }\n'})}),"\n",(0,o.jsx)(n.admonition,{title:"Wady tego podej\u015bcia",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["nie obs\u0142uguje tras z argumentami (np. ",(0,o.jsx)(n.code,{children:"details/{id}"}),"),"]}),"\n",(0,o.jsx)(n.li,{children:"brak typowania \u2013 argumenty przekazujesz r\u0119cznie jako stringi,"}),"\n",(0,o.jsx)(n.li,{children:"trudniejsze skalowanie (du\u017ce aplikacje = du\u017cy chaos)."}),"\n"]})}),"\n",(0,o.jsx)(n.h3,{id:"wersja-rozbudowana---du\u017ce-aplikacje",children:"Wersja rozbudowana - du\u017ce aplikacje"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["zamiast u\u017cywania ",(0,o.jsx)(n.code,{children:"Singletona"})," jak w wersji uproszczonej,"]}),"\n",(0,o.jsxs)(n.li,{children:["b\u0119dziemy u\u017cywali obiekt\xf3w specjalnej klasy ",(0,o.jsx)(n.code,{children:"Screen"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'sealed class Screen(val route: String) {\n    object Home: Screen("home")\n    object Details: Screen("details")\n}\n'})}),"\n",(0,o.jsx)(n.admonition,{title:"Zalety tego podej\u015bcia",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"typowany i bezpieczny (\u0142atwo rozszerzy\u0107),"}),"\n",(0,o.jsx)(n.li,{children:"obs\u0142uguje argumenty, dynamiczne trasy,"}),"\n",(0,o.jsx)(n.li,{children:"kompilator sprawdza poprawno\u015b\u0107 tras,"}),"\n",(0,o.jsx)(n.li,{children:"idealny do du\u017cych projekt\xf3w i MVVM."}),"\n"]})})]})}function j(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(t,{...e})}):t(e)}}}]);