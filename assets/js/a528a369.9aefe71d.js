"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[36],{5490:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>r,contentTitle:()=>l,default:()=>m,frontMatter:()=>d,metadata:()=>o,toc:()=>s});const o=JSON.parse('{"id":"Nawigacja/Menu/menu","title":"Toolbar jako Menu","description":"Przygotowanie aktywno\u015bci","source":"@site/docs/6.Nawigacja/3. Menu/3-menu.mdx","sourceDirName":"6.Nawigacja/3. Menu","slug":"/Nawigacja/Menu/menu","permalink":"/mobile/docs/Nawigacja/Menu/menu","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/6.Nawigacja/3. Menu/3-menu.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Toolbar jako Menu"},"sidebar":"tutorialSidebar","previous":{"title":"Binding","permalink":"/mobile/docs/Nawigacja/binding"},"next":{"title":"Toolbar - zmiana wygl\u0105du","permalink":"/mobile/docs/Nawigacja/Menu/themes-xml-zmiana-wygladu"}}');var a=i(4848),t=i(8453);const d={title:"Toolbar jako Menu"},l="Menu",r={},s=[{value:"Przygotowanie aktywno\u015bci",id:"przygotowanie-aktywno\u015bci",level:2},{value:"Dodanie <code>Toolbar</code> do <code>activity_main.xml</code>",id:"dodanie-toolbar-do-activity_mainxml",level:2},{value:"Tworzenie xml dla <code>Menu</code>",id:"tworzenie-xml-dla-menu",level:2},{value:"Dodanie menu do <code>MainActivity.kt</code>",id:"dodanie-menu-do-mainactivitykt",level:2},{value:"Dodajemy nowe ikony do pozycji menu",id:"dodajemy-nowe-ikony-do-pozycji-menu",level:2},{value:"Ikona w <code>ifroom</code>",id:"ikona-w-ifroom",level:3},{value:"Podmenu",id:"podmenu",level:3},{value:"Wygl\u0105d",id:"wygl\u0105d",level:4},{value:"Logika - obs\u0142uga podmenu (po <code>id</code>)",id:"logika---obs\u0142uga-podmenu-po-id",level:4}];function c(n){const e={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"menu",children:"Menu"})}),"\n",(0,a.jsx)(e.h2,{id:"przygotowanie-aktywno\u015bci",children:"Przygotowanie aktywno\u015bci"}),"\n",(0,a.jsxs)(e.p,{children:["Aktywno\u015b\u0107 domy\u015blnie ma wy\u0142\u0105czony ",(0,a.jsx)(e.code,{children:"actionbara"}),"\n",(0,a.jsx)(e.code,{children:"/res/values/themes/themes.xml"})," :"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'<resources xmlns:tools="http://schemas.android.com/tools">\n    \x3c!-- Base application theme. --\x3e\n    <style name="Base.Theme.MyMenu" parent="Theme.Material3.DayNight.NoActionBar">\n        \x3c!-- Customize your light theme here. --\x3e\n        \x3c!-- <item name="colorPrimary">@color/my_light_primary</item> --\x3e\n    </style>\n\n    <style name="Theme.MyMenu" parent="Base.Theme.MyMenu" />\n</resources>\n'})}),"\n",(0,a.jsx)(e.admonition,{title:"ActionBar",type:"note",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"to klasyczny pasek u g\xf3ry ekranu."}),"\n",(0,a.jsx)(e.li,{children:"ograniczone mo\u017cliwo\u015bci personalizacji."}),"\n",(0,a.jsx)(e.li,{children:"powi\u0105zany z Activity"}),"\n"]})}),"\n",(0,a.jsx)(e.admonition,{title:"ToolBar jako ActionBar",type:"tip",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"to normalny widok, kt\xf3ry mo\u017cesz wstawi\u0107 w dowolne miejsce layoutu."}),"\n",(0,a.jsxs)(e.li,{children:["mo\u017ce zast\u0105pi\u0107 ",(0,a.jsx)(e.code,{children:"ActionBar"}),","]}),"\n",(0,a.jsx)(e.li,{children:"daje pe\u0142n\u0105 kontrol\u0119: styl, animacje, kolory, menu, logo itp."}),"\n",(0,a.jsxs)(e.li,{children:["mo\u017cna go doda\u0107 nawet na \u015brodku ekranu lub mie\u0107 r\xf3\u017cne ",(0,a.jsx)(e.code,{children:"Toolbary"})," w r\xf3\u017cnych fragmentach"]}),"\n",(0,a.jsxs)(e.li,{children:["wymaga ",(0,a.jsx)(e.code,{children:"setSupportActionBar(toolbar)"})," w kodzie."]}),"\n"]})}),"\n",(0,a.jsxs)(e.h2,{id:"dodanie-toolbar-do-activity_mainxml",children:["Dodanie ",(0,a.jsx)(e.code,{children:"Toolbar"})," do ",(0,a.jsx)(e.code,{children:"activity_main.xml"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'<androidx.appcompat.widget.Toolbar\n    android:id="@+id/myToolbar"\n    android:layout_width="match_parent"\n    android:layout_height="wrap_content"\n    android:background="?attr/colorPrimary"\n    app:title="Moje Menu"\n    app:titleTextColor="#E5F87E"\n    />\n\n\n<TextView\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:text="tekst z aktywno\u015b\u0107i"\n    android:layout_margin="40px"\n    />\n'})}),"\n",(0,a.jsxs)(e.h2,{id:"tworzenie-xml-dla-menu",children:["Tworzenie xml dla ",(0,a.jsx)(e.code,{children:"Menu"})]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["utw\xf3rz folder ",(0,a.jsx)(e.code,{children:"/res/menu"})]}),"\n",(0,a.jsxs)(e.li,{children:["w tym folderze zr\xf3b plik ",(0,a.jsx)(e.code,{children:"menu_main.xml"})," jak ",(0,a.jsx)(e.code,{children:"Menu Resource File"})]}),"\n",(0,a.jsx)(e.li,{children:"w tym pliku zdefiniuj menu"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:' <item android:id="@+id/action_preferences"\n    android:title="Preferences"\n    android:icon="@android:drawable/ic_menu_preferences"\n    app:showAsAction="never"/>\n\n<item android:id="@+id/action_info"\n    android:title="Information"\n    android:icon="@android:drawable/ic_menu_info_details"\n    app:showAsAction="never" />\n\n'})}),"\n",(0,a.jsxs)(e.admonition,{type:"tip",children:[(0,a.jsxs)(e.mdxAdmonitionTitle,{children:["Atrybut ",(0,a.jsx)(e.code,{children:"app:showAsAction"})]}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["kontroluje, gdzie i jak element menu ma si\u0119 pojawi\u0107 \u2013 np. jako","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"ikona w ActionBarze/Toolbarze, czy"}),"\n",(0,a.jsx)(e.li,{children:"w rozwijanym menu (\u201eoverflow menu\u201d \u2013 trzy kropki)."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["warto\u015bci:","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"always"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Ikona zawsze b\u0119dzie widoczna w Toolbarze (je\u015bli to mo\u017cliwe)."}),"\n",(0,a.jsx)(e.li,{children:'Nie trafi do "trzech kropek" \u2013 nawet je\u015bli nie ma miejsca, Android b\u0119dzie pr\xf3bowa\u0142 j\u0105 pokaza\u0107.'}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"ifRoom"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Ikona pojawi si\u0119 w Toolbarze, je\u015bli b\u0119dzie miejsce."}),"\n",(0,a.jsx)(e.li,{children:"Je\u015bli miejsca zabraknie \u2013 trafi do overflow menu (\u22ee)"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"never"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Element nigdy nie pojawi si\u0119 jako ikona w Toolbarze."}),"\n",(0,a.jsx)(e.li,{children:'Zawsze trafi do "trzech kropek" (overflow menu).'}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"withText"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["Pokazuje tekst obok ikony, je\u015bli ",(0,a.jsx)(e.em,{children:"ActionBar"})," na to pozwala."]}),"\n",(0,a.jsxs)(e.li,{children:["Dzia\u0142a tylko z ",(0,a.jsx)(e.code,{children:"always"})," lub ",(0,a.jsx)(e.code,{children:"ifRoom"}),"."]}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'app:showAsAction="ifRoom|withText"'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(e.h2,{id:"dodanie-menu-do-mainactivitykt",children:["Dodanie menu do ",(0,a.jsx)(e.code,{children:"MainActivity.kt"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:'class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        enableEdgeToEdge()\n        setContentView(R.layout.activity_main)\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main)) { v, insets ->\n            val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)\n            insets\n        }\n\n//toolbar jako actionbar\n        val toolbar = findViewById<Toolbar>(R.id.myToolbar)\n        setSupportActionBar(toolbar)\n    }\n\n// nowa metoda\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.main_menu, menu)\n\n        return true\n    }\n\n// dodana nowa metoda\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        return when(item.itemId){\n            R.id.action_preferences ->{\n                Toast.makeText(this, "Klikni\u0119to: Preferences", Toast.LENGTH_LONG).show()\n                true\n            }\n            R.id.action_info -> {\n                Toast.makeText(this, "Klikni\u0119to: action info", Toast.LENGTH_LONG).show()\n                true\n            }\n            else -> super.onOptionsItemSelected(item)\n        }\n    }\n}\n'})}),"\n",(0,a.jsxs)(e.admonition,{type:"tip",children:[(0,a.jsx)(e.mdxAdmonitionTitle,{children:(0,a.jsx)(e.code,{children:"override fun onCreateOptionsMenu(menu: Menu?): Boolean {..."})}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"wywo\u0142ywana automatycznie przez system Android, gdy ma by\u0107 pokazane menu"}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"menuInflater"}),"  narz\u0119dzie do przekszta\u0142cania (inflacji) pliku XML w obiekt menu"]}),"\n",(0,a.jsx)(e.li,{children:"menu obiekt, do kt\xf3rego te opcje zostan\u0105 dodane"}),"\n"]})]}),"\n",(0,a.jsxs)(e.admonition,{type:"tip",children:[(0,a.jsx)(e.mdxAdmonitionTitle,{children:(0,a.jsx)(e.code,{children:"override fun onOptionsItemSelected(item: MenuItem): Boolean {..."})}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"ta metoda obs\u0142uguje klikni\u0119cia w opcje menu, kt\xf3re wcze\u015bniej zdefiniowano (np. w main_menu.xml)."}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"item: MenuItem"})," obiekt, kt\xf3ry reprezentuje klikni\u0119ty element menu"]}),"\n"]})]}),"\n",(0,a.jsx)(e.admonition,{title:'Co to jest "nadmuchiwanie"/Inflate?',type:"warning",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"inflate"})," przekszta\u0142\u0107 plik XML w realny obiekt w pami\u0119ci aplikacji,"]}),"\n",(0,a.jsxs)(e.li,{children:["np. mamy layout zapisany w XML, np. res/layout/my_button.xml, ale, \u017ceby go u\u017cy\u0107 w aplikacji, trzeba","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u201enadmucha\u0107\u201d ten plik, czyli"}),"\n",(0,a.jsx)(e.li,{children:"zamieni\u0107 go na prawdziwy obiekt View w Kotlinie."}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,a.jsx)(e.h2,{id:"dodajemy-nowe-ikony-do-pozycji-menu",children:"Dodajemy nowe ikony do pozycji menu"}),"\n",(0,a.jsxs)(e.h3,{id:"ikona-w-ifroom",children:["Ikona w ",(0,a.jsx)(e.code,{children:"ifroom"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'<item android:title="Search"\n    android:id="@+id/mySearch"\n    android:icon="@android:drawable/ic_menu_search"\n    app:showAsAction="ifRoom"\n    />\n'})}),"\n",(0,a.jsx)(e.h3,{id:"podmenu",children:"Podmenu"}),"\n",(0,a.jsx)(e.h4,{id:"wygl\u0105d",children:"Wygl\u0105d"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'<item android:title="wi\u0119cej"\n    android:id="@+id/moreAction">\n    <menu>\n        <item android:id="@+id/action_about"\n            android:title="O aplikacji"/>\n        <item  android:id="@+id/action_help"\n            android:title="Pomoc"/>\n    </menu>\n</item>\n\n<item android:title="Gro\u017ane menu"\n    android:id="@+id/wildAction"\n    app:showAsAction="ifRoom">\n    <menu>\n        <item android:id="@+id/action_eating"\n            android:title="O zjadaniu u\u017cytkownika"/>\n        <item  android:id="@+id/action_sleeping"\n            android:title="O zasypianiu">\n            <menu>\n                <item android:id="@+id/action_studing"\n                    android:title="O uczeniu si\u0119"/>\n                <item  android:id="@+id/action_walking"\n                    android:title="O chodzeniu"/>\n            </menu>\n        </item>\n    </menu>\n</item>\n\n'})}),"\n",(0,a.jsxs)(e.h4,{id:"logika---obs\u0142uga-podmenu-po-id",children:["Logika - obs\u0142uga podmenu (po ",(0,a.jsx)(e.code,{children:"id"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:'override fun onOptionsItemSelected(item: MenuItem): Boolean {\n    return when(item.itemId){\n        R.id.action_preferences ->{\n            Toast.makeText(this, "Klikni\u0119to: Preferences", Toast.LENGTH_LONG).show()\n            true\n        }\n        R.id.action_info -> {\n            Toast.makeText(this, "Klikni\u0119to: action info", Toast.LENGTH_LONG).show()\n            true\n        }\n// id z podmenu\n        R.id.action_walking -> {\n            Toast.makeText(this, "No to ID\u0118 SOBI\u0118", Toast.LENGTH_LONG).show()\n            true\n        }\n        else -> super.onOptionsItemSelected(item)\n    }\n}\n\n'})})]})}function m(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>l});var o=i(6540);const a={},t=o.createContext(a);function d(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:d(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);