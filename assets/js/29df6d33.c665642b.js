"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[498],{3986:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>x,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"Nawigacja i  fragmenty/Activity","title":"Activity","description":"Sprawdzanie cyklu \u017cycia aktywno\u015bci","source":"@site/docs/10.Nawigacja i  fragmenty/2.Activity.mdx","sourceDirName":"10.Nawigacja i  fragmenty","slug":"/Nawigacja i  fragmenty/Activity","permalink":"/mobile/docs/Nawigacja i  fragmenty/Activity","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/10.Nawigacja i  fragmenty/2.Activity.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Activity"},"sidebar":"tutorialSidebar","previous":{"title":"Podstawowe poj\u0119cia","permalink":"/mobile/docs/Nawigacja i  fragmenty/Podstawowe poj\u0119cia"},"next":{"title":"ListView - wprowadzenie","permalink":"/mobile/docs/Listy i dane/ListView/IntroListVIew"}}');var a=i(4848),r=i(8453);const d={title:"Activity"},s="Activity",c={},o=[{value:"Sprawdzanie cyklu \u017cycia aktywno\u015bci",id:"sprawdzanie-cyklu-\u017cycia-aktywno\u015bci",level:2},{value:"Explicit Intent",id:"explicit-intent",level:2},{value:"Przyk\u0142ad 2. - przekazanie danych (string) do  drugiej aktywno\u015bci",id:"przyk\u0142ad-2---przekazanie-danych-string-do--drugiej-aktywno\u015bci",level:2},{value:"Jak przesy\u0142a\u0107 dane mi\u0119dzy aktywno\u015bciami w Androidzie (<code>Intent</code> + <code>putExtra</code> / <code>getExtra</code>)",id:"jak-przesy\u0142a\u0107-dane-mi\u0119dzy-aktywno\u015bciami-w-androidzie-intent--putextra--getextra",level:2},{value:"Implicit Intent",id:"implicit-intent",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"activity",children:"Activity"})}),"\n",(0,a.jsx)(e.h2,{id:"sprawdzanie-cyklu-\u017cycia-aktywno\u015bci",children:"Sprawdzanie cyklu \u017cycia aktywno\u015bci"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["utw\xf3rz projekt ",(0,a.jsx)(e.code,{children:"Empty Views Activity"})]}),"\n",(0,a.jsxs)(e.li,{children:["dodaj poni\u017cszy kod (jako prywant\u0105 w\u0142a\u015bciwo\u015b\u0107 zdefiniowali\u015bmy zmienn\u0105 ",(0,a.jsx)(e.code,{children:"tag=mainalc"}),")"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:'class MainActivity : AppCompatActivity() {\n\n    private val tag = "mainalc" // !!!!!\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        enableEdgeToEdge()\n        setContentView(R.layout.activity_main)\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main)) { v, insets ->\n            val systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars())\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom)\n            insets\n        }\n\n        Log.d(tag, "onCreate: Activity is being created")\n    }\n\n\n\n\noverride fun onStart(){\n    super.onStart()\n    Log.d(tag, "onStart: Activity is becoming visible")\n}\n\noverride fun onResume(){\n    super.onResume()\n    Log.d(tag, "onResume: Activity is now interacting with the user")\n}\n\noverride fun onPause() {\n    super.onPause()\n    Log.d(tag, "onPause: Activity is pausing (another Activity is coming in front")\n}\n\noverride fun onStop(){\n    super.onStop()\n    Log.d(tag, "onStop: Activity is no longer visible to the user")\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    Log.d(tag, "onDestroy: Activity is being destroyed")\n}\n\noverride fun onRestart() {\n    super.onRestart()\n    Log.d(tag, "onRestart: Activity is restarting after being stopped")\n}\n}\n\n'})}),"\n",(0,a.jsx)(e.h2,{id:"explicit-intent",children:"Explicit Intent"}),"\n",(0,a.jsx)(e.h1,{id:"przyk\u0142ad-1---uruchomienie-drugiej-aktywno\u015bci",children:"Przyk\u0142ad 1. - uruchomienie drugiej aktywno\u015bci"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"zr\xf3b nowy projekt w Android Studio"}),"\n",(0,a.jsxs)(e.li,{children:["w folderze, w kt\xf3rym jest MainActivity.kt zr\xf3b nowy plik ",(0,a.jsx)(e.code,{children:"SecondActivity"}),": ",(0,a.jsx)(e.code,{children:"New>Activity>Empty Views Activity"})]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"activity_main.xml"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["zmieniamy na ",(0,a.jsx)(e.code,{children:"LinearLayout"})]}),"\n",(0,a.jsx)(e.li,{children:"dodajemy przycisk"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'    <Button\n        android:id="@+id/open_second_activity_btn"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:text="Open Second Activity" />\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"activity_second.xml"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["dodajemy ",(0,a.jsx)(e.code,{children:"TextView"})]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'<TextView\n        android:id="@+id/textView"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:fontFamily="monospace"\n        android:text="To jest druga aktywno\u015b\u0107"\n        android:textSize="20sp"\n        app:layout_constraintBottom_toBottomOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintTop_toTopOf="parent" />\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"MainActivity.kt"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"obs\u0142uga klikni\u0119cia, kt\xf3ra otwiera now\u0105 aktywno\u015b\u0107"}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SecondActivity::class.java"}),":","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"::class"})," operator, kt\xf3ry pozwala uzyska\u0107 referencj\u0119 do klasy"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"SecondActivity::class"})," przekazujemy referencj\u0119 do klasy ",(0,a.jsx)(e.code,{children:"SecondActivity"})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:".java"})," konwertuje obiekt-klas\u0119 z Kotlina na na obiekt-klas\u0119 z Javy, bo tego wymaga konstruktor ",(0,a.jsx)(e.code,{children:"Intent"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:"val button = findViewById<Button>(R.id.open_second_activity_btn)\nbutton.setOnClickListener{\n    val intent = Intent(this, SecondActivity::class.java)\n    startActivity(intent)\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"przyk\u0142ad-2---przekazanie-danych-string-do--drugiej-aktywno\u015bci",children:"Przyk\u0142ad 2. - przekazanie danych (string) do  drugiej aktywno\u015bci"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"activity_main.xml"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"dodamy pole do wprowadzania tekstu"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'  <EditText\n        android:id="@+id/name_edittext"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:hint="Enter a message"\n        android:textSize="18sp"\n        android:layout_marginTop="10dp"/>\n\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"MainActivity.kt"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["pod\u0142\u0105czymy si\u0119 do ",(0,a.jsx)(e.code,{children:"EditText"})]}),"\n",(0,a.jsxs)(e.li,{children:["u\u017cyjemy ",(0,a.jsx)(e.code,{children:"Intent"}),", aby przekaza\u0107 dane z ",(0,a.jsx)(e.code,{children:"EditText"})," do drugiej aktywno\u015bci"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:'class MainActivity : AppCompatActivity() {\n\n    private lateinit var editText: EditText\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n//...\n\n        editText = findViewById(R.id.name_edittext)\n        val btnOpenNewActivity: Button = findViewById(R.id.open_second_activity_btn)\n        btnOpenNewActivity.setOnClickListener {\n            val message = editText.text.toString()\n            val intent = Intent(this, SecondActivity::class.java)\n            intent.putExtra("EXTRA_MESSAGE", message)\n            startActivity(intent)\n        }\n//...\n\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"SecondActivity.kt"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["otrzymujemy dane z ",(0,a.jsx)(e.code,{children:"Intent"})]}),"\n",(0,a.jsxs)(e.li,{children:["do pobrania danych u\u017cyjemy metody ",(0,a.jsx)(e.code,{children:"getStringExtra"})," z kluczem ",(0,a.jsx)(e.code,{children:"EXTRA_MESSAGE"})]}),"\n",(0,a.jsxs)(e.li,{children:["w metodzie ",(0,a.jsx)(e.code,{children:"onCreate"})," wprowadzimy zmiany:"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-kotlin",children:'val textViewMessage =findViewById<TextView>(R.id.message_textview)\nval message = intent.getStringExtra("EXTRA_MESSAGE")\ntextViewMessage.text = if (message.isNullOrEmpty()) {\n    "Mo message received"\n} else {\n    message\n}\n\n'})}),"\n",(0,a.jsxs)(e.p,{children:["wyja\u015bnienie dla zmiennej ",(0,a.jsx)(e.code,{children:"intent"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Kiedy Android uruchamia Activity, przypisuje jej obiekt Intent, z kt\xf3rego mo\u017cna pobiera\u0107 dane lub akcje."}),"\n",(0,a.jsx)(e.li,{children:"Jest to cz\u0119\u015b\u0107 konstrukcji ka\u017cdej Activity, dlatego nie musimy jawnie przekazywa\u0107 obiektu Intent ani go tworzy\u0107 w SecondActivity \u2013 jest on dost\u0119pny od momentu uruchomienia aktywno\u015bci."}),"\n"]}),"\n",(0,a.jsxs)(e.h2,{id:"jak-przesy\u0142a\u0107-dane-mi\u0119dzy-aktywno\u015bciami-w-androidzie-intent--putextra--getextra",children:["Jak przesy\u0142a\u0107 dane mi\u0119dzy aktywno\u015bciami w Androidzie (",(0,a.jsx)(e.code,{children:"Intent"})," + ",(0,a.jsx)(e.code,{children:"putExtra"})," / ",(0,a.jsx)(e.code,{children:"getExtra"}),")"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["Pojedyncze warto\u015bci (typy proste i String)","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:'putExtra("EXTRA_INT", 123)'})," \u2192 ",(0,a.jsx)(e.code,{children:'getIntExtra("EXTRA_INT", 0)'})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:'putExtra("EXTRA_FLOAT", 3.14f)'})," \u2192 ",(0,a.jsx)(e.code,{children:'getFloatExtra("EXTRA_FLOAT", 0.0f)'})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:'putExtra("EXTRA_BOOLEAN", true)'})," \u2192 ",(0,a.jsx)(e.code,{children:'getBooleanExtra("EXTRA_BOOLEAN", false)'})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:'putExtra("EXTRA_STRING", "Hello")'})," \u2192 ",(0,a.jsx)(e.code,{children:'getStringExtra("EXTRA_STRING")'})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Tablice prymitywne (int[], float[], boolean[] \u2026)","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'putExtra("EXTRA_INTS", intArrayOf(1, 2, 3))'})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'getIntArrayExtra("EXTRA_INTS")'})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Tablice obiekt\xf3w (np. ",(0,a.jsx)(e.code,{children:"String[]"}),")","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'putExtra("EXTRA_NAMES", arrayOf("Ala", "Ola", "Ela"))'})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'getStringArrayExtra("EXTRA_NAMES")'})}),"\n",(0,a.jsx)(e.li,{children:"Dzia\u0142a tylko dla tablic String\xf3w, bo Android wspiera je wprost."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["ArrayList","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'putStringArrayListExtra("EXTRA_LIST", arrayListOf("Ala", "Ola"))'})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'getStringArrayListExtra("EXTRA_LIST")'})}),"\n",(0,a.jsx)(e.li,{children:"Obs\u0142ugiwane s\u0105 ArrayListy typ\xf3w: String, Integer, CharSequence, Parcelable."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Obiekty Parcelable / Serializable","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Je\u015bli mamy w\u0142asn\u0105 klas\u0119, trzeba j\u0105 oznaczy\u0107 jako Parcelable (zalecane) lub Serializable."}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'putExtra("EXTRA_USER", user)'})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'getParcelableExtra<User>("EXTRA_USER")'})}),"\n",(0,a.jsx)(e.li,{children:"To spos\xf3b na przesy\u0142anie ca\u0142ych obiekt\xf3w (np. u\u017cytkownika z imieniem i wiekiem)."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Bundle (zestaw danych)","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Mo\u017cna zapakowa\u0107 wiele warto\u015bci do jednego obiektu Bundle."}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'val bundle = Bundle().apply { putInt("score", 99); putString("name", "Ala") }'})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:"intent.putExtras(bundle)"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.code,{children:'val score = intent.extras?.getInt("score")'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"implicit-intent",children:"Implicit Intent"})]})}function x(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(l,{...n})}):l(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>s});var t=i(6540);const a={},r=t.createContext(a);function d(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:d(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);